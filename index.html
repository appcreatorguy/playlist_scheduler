<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dynamic Spotify Playlist</title>
  </head>
  <body>
    <iframe
      id="spotify"
      style="border-radius: 12px"
      src="https://open.spotify.com/embed/playlist/1v05Xx7uzPCZaNIyqAqkxK?utm_source=generator"
      width="100%"
      height="352"
      frameborder="0"
      allowfullscreen=""
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
      loading="lazy"
    ></iframe>

    <script>
      // Define your schedule here. Each entry is a start time (in HH:MM format) and a corresponding URL.
      const schedule = [
        {
          time: "07:00",
          url: "https://open.spotify.com/embed/playlist/1v05Xx7uzPCZaNIyqAqkxK?utm_source=generator",
        },
        {
          time: "09:00",
          url: "https://open.spotify.com/embed/playlist/6RagVrlqVazs2usG1m5S3h",
        },
        {
          time: "13:00",
          url: "https://open.spotify.com/embed/playlist/68bVOCxSxWawMwrXVt0cwX",
        },
        {
          time: "15:00",
          url: "https://open.spotify.com/embed/playlist/3yCtRhMr0bhjKHANJllIOD",
        },
        {
          time: "21:00",
          url: "https://open.spotify.com/embed/playlist/0sx5l4FYzJXTFQqRj0O2O7",
        },
      ];

      function updateIframeSrc() {
        const currentTime = new Date();
        const currentHour = currentTime.getHours();
        const currentMinute = currentTime.getMinutes();

        // Format the current time as HH:MM
        const formattedTime = `${String(currentHour).padStart(2, "0")}:${String(
          currentMinute
        ).padStart(2, "0")}`;

        for (const entry of schedule) {
          if (formattedTime === entry.time) {
            // Update the iframe src
            document.getElementById("spotify").src = entry.url;
            break; // Exit the loop after the first match is found
          }
        }
      }

      // Update the iframe src initially
      updateIframeSrc();

      // Check and update the iframe src every minute (you can adjust the interval as needed)
      setInterval(updateIframeSrc, 60000); // 60000 milliseconds = 1 minute
    </script>
  </body>
</html>
